<p id="notice"><%= notice %></p>



<div class="container text-white">
<div class="album text-white">
<h1>Manage Line Items</h1>
<%= link_to 'Add Line Item', new_line_item_path, class: 'btn btn-outline-secondary text-white' %>

<br>
<hr class="new1">

<table id="example" class="table table-dark table-hover table-sm text-nowrap" data-turbolinks="false">
  <thead>
    <tr class="table-dark text-center">
      <th>Invoice ID</th>
      <th>Invoice Number</th>
      <th>Metal Item ID</th>
      <th>View Line Item</th>
      <th>Edit Line Item</th>
      <th>Delete Line Item</th>
    </tr>
  </thead>

  <tbody class="text-center">
    <% @line_items.each do |line_item| %>
      <tr>
        <td><%= line_item.invoice_id%></td>
        <td><%= link_to line_item.invoice.invoice_number, line_item.invoice, :style=> 'color:darkturquoise;' %></td>
        <td><%= link_to line_item.metal_item_id, line_item.metal_item, :style=> 'color:darkturquoise;' %></td>
        <td><%= link_to 'Show', line_item, class: 'btn btn-info btn-xs text-white' %></td>
        <td><%= link_to 'Edit', edit_line_item_path(line_item), class: 'btn btn-warning btn-xs' %></td>
        <td><%= link_to 'Destroy', line_item, method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-light btn-xs' %></td>
      </tr>
    <% end %>
  </tbody>
</table>

</div>
</div>

<script type="text/javascript">
    var dataTable = $('#example').DataTable({
        "language": {
            "sLengthMenu": "Num. of Entries Per Page _MENU_",
            "sSearch": "Search:"
        }
    });

    $(document).ready(function() {
        dataTable;
    });

    document.addEventListener("turbolinks:before-cache", function() {
        if (dataTable !== null) {
            dataTable.destroy();
            dataTable = null;
        }
    });
</script>
